<!doctype html>
<html>
<head>
<title>Qt/OC <--> Js Communication</title>
<script>
    function sendJsMessageToObjectiveC(msg) {
        window.webkit.messageHandlers.customMessageHandler.postMessage(msg);
    }

    function recvMessageFromObjectiveC(msg) {
        displayTip(msg);
    }
    function displayTip(msg) {
        document.getElementById("display").innerHTML = msg;
    }
    function onMakeNotification() {
        jsonText = '{"category":"myProject", "type": "tip", "body":"Hello OC/Qt, i\'m js"}'
        sendJsMessageToObjectiveC(jsonText);
        displayTip(jsonText);
    }

</script>
</head>
<body style='text-align:center;'>
    <h3>Click the button to send a notification</h3>

    <button onclick='onMakeNotification()'>Notify!</button>
    <div>
        <output id="display">aSsaS</output>
    </div>
</body>
</html>
